---
id: common
slug: /sdk/node/guides/common/
title: Yaygın Kullanım Alanları
---

````mdx-code-block
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
````

## Temel Kurulum {#core-setup-guide}

Kütüphaneyi kullanmaya nasıl başlayacağımızı ve şu anda kullandığınız kodla nasıl birleştireceğimizi öğreneceğiz.

Discord client kütüphanesi olarak [discord.js](https://discord.js.org) kullanıcağız.

### Kurulum {#setup}

Kullanacağımız çok basit bir discord bot kurulumu.

````mdx-code-block
<Tabs
groupId="programming-language"
defaultValue="ts"
values={[
{ label: 'TypeScript', value: 'ts' },
{ label: 'JavaScript', value: 'js' },
]}
>
<TabItem value="ts">

```ts title="app.ts"
import { Client } from 'discord.js'

const client = new Client()

client.on('ready', () => console.log("Hazırım o7"))

client.login('DISCORD_TOKEN')
```

</TabItem>
<TabItem value="js">

```js title="app.js"
const { Client } = require('discord.js')

const client = new Client()

client.on('ready', () => console.log("Hazırım o7"))

client.login('DISCORD_TOKEN')
```

</TabItem>
</Tabs>
````
### Client Oluşturma {#creating-client}
Artık temel bir kuruluma sahip olduğumuza göre, dclist ile etkileşime başlamak için GatewayClient'imizi oluşturabiliriz

````mdx-code-block
<Tabs
groupId="programming-language"
defaultValue="ts"
values={[
{ label: 'TypeScript', value: 'ts' },
{ label: 'JavaScript', value: 'js' },
]}
>
<TabItem value="ts">

```ts title="app.ts"
import { Client } from 'discord.js'
import { GatewayClient } from '@dclist/sdk'

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

client.on('ready', () => console.log("Hazırım o7"))

client.login('DISCORD_TOKEN')
```

</TabItem>
<TabItem value="js">

```js title="app.js"
const { Client } = require('discord.js')
const { GatewayClient } = require('@dclist/sdk')

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

client.on('ready', () => console.log("Hazırım o7"))

client.login('DISCORD_TOKEN')
```

</TabItem>
</Tabs>
````
## Oylayan-Özel Komutlar {#voter-only-commands}
Sadece oyverenlerin kullanabilecekleri komutlara sahip olabilirsiniz. Resmi sdk'i kullanarak bunu kolayca yapabilirsiniz.
Aşağıdaki GatewayClient'ın #isUserVoted yöntemini kullanmak için çoook basit bir örnek.

````mdx-code-block
<Tabs
groupId="programming-language"
defaultValue="ts"
values={[
{ label: 'TypeScript', value: 'ts' },
{ label: 'JavaScript', value: 'js' },
]}
>
<TabItem value="ts">

```ts title="app.ts"
import { Client } from 'discord.js'
import { GatewayClient } from '@dclist/sdk'

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

client.on('ready', () => console.log("Hazırım o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
<TabItem value="js">

```js title="app.js"
const { Client } = require('discord.js')
const { GatewayClient } = require('@dclist/sdk')

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

client.on('ready', () => console.log("Hazırım o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
</Tabs>
````
## Etkinliklere Abone Olun {#subscribe-to-events}
Dclist gerçek zamanlı olayları işlemek için biraz farklı bir sistem kullanıyor. Sadece yeni oy etkinliği için express web sunucusu oluşturmak yerine, webspcket kullanarak direk sunucuya bağlanıyor.
Bu, etkinlikleri kullanmak için başka herhangi bir ayar yapmanıza gerek yok demek.
Fikir vermesi için çoook basit bir etkinlik kaydedici kodu.
### Etkinlik Istemek {#demanding-events}
Öncelikle, hangi etkinliklerden haber almak istediğinizi sunucuya söylemeniz gerekir. Daha sonra sunucu size gerçek zamanlı olarak ektinlikleri göndermeye başlayacaktır.

````mdx-code-block
<Tabs
groupId="programming-language"
defaultValue="ts"
values={[
{ label: 'TypeScript', value: 'ts' },
{ label: 'JavaScript', value: 'js' },
]}
>
<TabItem value="ts">

```ts title="app.ts"
import { Client } from 'discord.js'
import { GatewayClient, SubscriptionsTopicsEnum } from '@dclist/sdk'

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

// Bu metod sync bir metoddur. Async/await kullanmanıza gerek yok
dclClient.subscribeTo([SubscriptionsTopicsEnum.NEW_VOTE])

client.on('ready', () => console.log("Hazırım o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
<TabItem value="js">

```js title="app.js"
const { Client } = require('discord.js')
const { GatewayClient } = require('@dclist/sdk')

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

// Bu metod sync bir metoddur. Async/await kullanmanıza gerek yok
dclClient.subscribeTo(['SDK_NEW_VOTE'])

client.on('ready', () => console.log("I'm ready sir o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
</Tabs>
````
### Etkinlikleri İşlemek {#handling-events}
Gerçek zamanlı bir etkinlik alındığında, GatewayClient alınan olayın türüyle aynı adlı bir olay yayar.

````mdx-code-block
<Tabs
groupId="programming-language"
defaultValue="ts"
values={[
{ label: 'TypeScript', value: 'ts' },
{ label: 'JavaScript', value: 'js' },
]}
>
<TabItem value="ts">

```ts title="app.ts"
import { Client } from 'discord.js'
import { GatewayClient, SubscriptionsTopicsEnum } from '@dclist/sdk'

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

// Bu metod sync bir metoddur. Async/await kullanmanıza gerek yok
dclClient.subscribeTo([SubscriptionsTopicsEnum.NEW_VOTE])

dclCLient.on(SubscriptionsTopicsEnum.NEW_VOTE, (vote) => {
    const logChannel = client.channels.cache.get('LOG_CHANNEL_ID') as TextChannel
    logChannel.send(`Oyun için teşekkurler <@${vote.payload.user.id}> .`)
})

client.on('ready', () => console.log("Hazırım o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
<TabItem value="js">

```js title="app.js"
const { Client } = require('discord.js')
const { GatewayClient } = require('@dclist/sdk')

const client = new Client()
const dclClient = new GatewayClient({
    token: 'DCLIST_TOKEN'
})

// Bu metod sync bir metoddur. dclClient.subscribeTo(['SDK_NEW_VOTE'])

dclCLient.on('SDK_NEW_VOTE', (vote) => {
    const logChannel = client.channels.cache.get('LOG_CHANNEL_ID')
    logChannel.send(`Oyun için teşekkurler <@${vote.payload.user.id}> .`)
})

client.on('ready', () => console.log("I'm ready sir o7"))

client.on('message', async (message) => {
    if (message.author.bot) return
    if (message.content.startsWith('!voterOnly')) {
        const userVoted = await dclClient.isUserVoted(message.author.id)
        if (!userVoted) {
            message.reply(`bu komudu kullanmak için oy vermeniz gerekmektedir. Burdan oy verebilirsiniz : https://dclist.net/bots/${client.user.id}/vote`)
            return
        }
    }
    // Burda Havalı Şeyler Yapın
})

client.login('DISCORD_TOKEN')
```

</TabItem>
</Tabs>
````
